// Include the AccelStepper library:
#include <AccelStepper.h>
// Motor pin definitions:
#define motorPin1  8      // IN1 on the ULN2003 driver
#define motorPin2  9      // IN2 on the ULN2003 driver
#define motorPin3  10     // IN3 on the ULN2003 driver
#define motorPin4  11     // IN4 on the ULN2003 driver
// Define the AccelStepper interface type; 4 wire motor in half step mode:
#define MotorInterfaceType 8
// Initialize with pin sequence IN1-IN3-IN2-IN4 for using the AccelStepper library with 28BYJ-48 stepper motor:
AccelStepper stepper = AccelStepper(MotorInterfaceType, motorPin1, motorPin3, motorPin2, motorPin4);
void setup() {
  Serial.begin(9600);
  // Set the maximum steps per second:
  stepper.setMaxSpeed(1000);
  // Set the maximum acceleration in steps per second^2:
  stepper.setAcceleration(1000);
  pinMode(13, OUTPUT);
}
void loop() {
  // Set target position:
  stepper.moveTo(15000);
  // Run to position with set speed and acceleration:
  Serial.println("avvio il motore stepper");
  stepper.runToPosition();
  
  delay(1000);
  Serial.println("torno indietro con  il motore stepper");
  // Move back to original position:
  stepper.moveTo(0);
  // Run to position with set speed and acceleration:
  stepper.runToPosition();
  Serial.println("Spengo il motore stepper");
  delay(1000);
  Serial.println("Accendo il motore");
  delay(1000);
  digitalWrite(13, HIGH);
  delay(10000);
  Serial.println("Spengo il motore");
  digitalWrite(13, LOW);
}